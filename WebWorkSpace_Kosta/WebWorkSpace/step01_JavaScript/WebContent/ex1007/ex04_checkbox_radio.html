<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  
  <title>Document</title>
   <script type="text/javascript">
   function allCheck(th,fr){//form자체를 매개변수로 가지고들어감
/* 	  if(th.checked==true){
	   for(var i=0;i<fr.hobby.length;i++){
		   fr.hobby[i].checked=true;
		   document.getElementById("span").innerHTML="전체취소";
		   
	   }
	  }else{
		   for(var i=0;i<fr.hobby.length;i++){
			   fr.hobby[i].checked=false;
			 document.getElementById("span").innerHTML="전체선택";
	   }
	   
   }
   }
    */
    
    //선생님코드
 /*    if(fr.all.checked){
    		for(var i=0;i<fr.hobby.length;i++){
    		fr.hobby[i].checked=true;
    }
    else{
    	for(var i=0;i<fr.hobby.length;i++){
    		fr.hobby[i].checked=false;
    	}
    }
    }
    }
     */
     for(var i=0;i<fr.hobby.length;i++){
    	 fr.hobby[i].checked=fr.all.checked;
     }
      
     if(th.checked){
    	 document.getElementById("span").innerText="전체취소";
     }else{
    	 document.getElementById("span").innerText="전체선택";
     }
     
 }
 
 function hobbyCheck(fr){
	/*  var str="";
	 for(var i=0;i<fr.hobby.length;i++){
    	 if(fr.hobby[i].checked){
    		 str+=fr.hobby[i].value+",";
    		 console.log(str);
    	 }
     }
	 document.getElementById("result").innerHTML="당신의 취미는 "+str+"입니다"; */
	 
	 //선생님코드
	 var message="당신의 취미는 ";
	 for(i=0;i<fr.hobby.length;i++){
		 if(fr.hobby[i].checked){//체크박스가 선택이 되었다면
			 message += fr.hobby[i].value+" , ";
		 }
	 }
	 document.getElementById("result").innerHTML=message;
	 
 }
 
   </script>
 </head>
 <body>
 <form>
   <fieldset>
      <legend>취미선택</legend>
	  <input type="checkbox" name="all" value="all" onclick="allCheck(this, form)">
	   <span id="span">전체선택</span>
	  <p>

	  <input type="checkbox" name="hobby" value="등산">등산
      <input type="checkbox" name="hobby" value="수영">수영
	  <input type="checkbox" name="hobby" value="낚시">낚시
	  <input type="checkbox" name="hobby" value="놀기">놀기
	  <input type="checkbox" name="hobby" value="먹기">먹기

	  <input type="button" value="클릭" onclick="hobbyCheck(form)">

   </fieldset>
   
   <h4 id="result"></h4>
   
 </form>
  
 </body>
</html>
